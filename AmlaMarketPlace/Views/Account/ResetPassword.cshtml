@model AmlaMarketPlace.Models.ViewModels.Account.ResetPasswordViewModel

@{
    ViewData["Title"] = "ResetPassword";
}

<div class="container mt-4">
    <div class="">
        <h1>Reset Password</h1>
    </div>

    <hr />
    <div class="row">
        <div class="col-md-4">
            <form asp-action="ResetPassword" id="resetPasswordForm">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group">
                    <input asp-for="Email" value="@Model.Email" type="hidden" class="form-control" />
                </div>
                <div class="form-group">
                    <label asp-for="Password" class="control-label required"></label>
                    <input asp-for="Password" class="form-control" id="password" />
                    <span id="passwordMessage" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="ConfirmedPassword" class="control-label required"></label>
                    <input asp-for="ConfirmedPassword" class="form-control" id="confirmPassword" />
                    <span id="confirmPasswordMessage" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <input type="submit" value="Reset" class="btn btn-primary" />
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script>
        document.getElementById("password").addEventListener("input", function () {
            const password = document.getElementById("password").value;
            const passwordMessage = document.getElementById("passwordMessage");

            // Regular expression for password validation
            const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z]).{8,}$/;

            // Check password validity
            if (!passwordPattern.test(password)) {
                passwordMessage.textContent = "Password must be at least 8 characters long, include one uppercase letter, and one lowercase letter.";
            } else {
                passwordMessage.textContent = ""; // Clear the message if valid
            }
        });

        document.getElementById("confirmPassword").addEventListener("input", function () {
            const password = document.getElementById("password").value;
            const confirmPassword = document.getElementById("confirmPassword").value;
            const confirmPasswordMessage = document.getElementById("confirmPasswordMessage");

            // Check if passwords match
            if (password !== confirmPassword) {
                confirmPasswordMessage.textContent = "Passwords do not match.";
            } else {
                confirmPasswordMessage.textContent = ""; // Clear the message if they match
            }
        });
    </script>
}


@* @model AmlaMarketPlace.Models.ViewModels.Account.ResetPasswordViewModel

@{
    ViewData["Title"] = "ResetPassword";
}

<div class="container mt-4">
    <div class="">
        <h1>Reset Password</h1>
    </div>

    <hr />
    <div class="row">
        <div class="col-md-4">
            <form asp-action="ResetPassword">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group">
                    <input asp-for="Email" value="@Model.Email" type="hidden" class="form-control" />
                </div>
                <div class="form-group">
                    <label asp-for="Password" class="control-label required"></label>
                    <input asp-for="Password" class="form-control" />
                    <span asp-validation-for="Password" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="ConfirmedPassword" class="control-label required"></label>
                    <input asp-for="ConfirmedPassword" class="form-control" />
                    <span asp-validation-for="ConfirmedPassword" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <input type="submit" value="Reset" class="btn btn-primary" />
                </div>
            </form>
        </div>
    </div>
</div> *@